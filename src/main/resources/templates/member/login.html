<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/no-sidebar}">
<head>
    <meta charset="UTF-8">
    <title>로그인 | 북스캠프</title>
</head>
<body>
<section layout:fragment="hero" class="hero" style="display: none;">
</section>

<div layout:fragment="content">
    <section class="checkout spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 offset-lg-3">
                    <div style="background: #ffffff; padding: 40px; border: 1px solid #ebebeb; border-radius: 4px;">
                        <h4 style="margin-bottom: 15px; font-weight: 700; text-align: center;">
                            <i class="fa fa-sign-in-alt" style="margin-right: 10px; color: #7fad39;"></i>
                            로그인
                        </h4>
                        <p style="text-align: center; color: #6f6f6f; margin-bottom: 30px;">북스캠프에 오신 것을 환영합니다.</p>

                        <div th:if="${param.error != null and param.error[0] == 'true'}" style="margin-bottom: 20px; padding: 15px; background: #fff3cd; border: 1px solid #dc3545; border-radius: 4px;">
                            <p style="color: #dc3545; margin: 0; font-weight: 600;">
                                <i class="fa fa-exclamation-circle"></i> 아이디 또는 비밀번호가 올바르지 않습니다.
                            </p>
                        </div>

                        <div th:if="${param.error != null and param.error[0] == 'dormant'}" style="margin-bottom: 20px; padding: 15px; background: #fff3cd; border: 1px solid #ffc107; border-radius: 4px;">
                            <p style="color: #856404; margin: 0; font-weight: 600;">
                                <i class="fa fa-lock"></i> 휴면 계정입니다. <br>
                                <a th:href="@{/dormant(username=${param.username})}" style="text-decoration: underline; color: #856404;">여기서 해제를 진행해주세요.</a>
                            </p>
                        </div>

                        <div th:if="${param.concurrent}" style="margin-bottom: 20px; padding: 15px; background: #ffeeba; border: 1px solid #ffc107; border-radius: 4px;">
                            <p style="color: #856404; margin: 0; font-weight: 600;">
                                <i class="fa fa-exclamation-triangle"></i> 이미 다른 기기에서 로그인된 계정입니다.
                            </p>
                        </div>

                        <div th:if="${param.logout}" style="margin-bottom: 20px; padding: 15px; background: #d4edda; border: 1px solid #7fad39; border-radius: 4px;">
                            <p style="color: #155724; margin: 0; font-weight: 600;">
                                <i class="fa fa-check-circle"></i> 로그아웃되었습니다.
                            </p>
                        </div>

                        <form action="/login" method="post">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="checkout__input">
                                        <p>아이디<span>*</span></p>
                                        <input type="text"
                                               id="username"
                                               name="username"
                                               placeholder="아이디를 입력하세요"
                                               required
                                               autofocus>
                                    </div>
                                </div>

                                <div class="col-lg-12">
                                    <div class="checkout__input">
                                        <p>비밀번호<span>*</span></p>
                                        <input type="password"
                                               id="password"
                                               name="password"
                                               placeholder="비밀번호를 입력하세요"
                                               required>
                                    </div>
                                </div>

                                <div class="col-lg-12" style="margin-top: 20px; text-align: center;">
                                    <button type="submit"
                                            class="site-btn"
                                            style="width: 100%; padding: 14px; font-size: 16px; font-weight: 600;">
                                        <i class="fa fa-sign-in-alt"></i> 로그인
                                    </button>
                                </div>
                                <div style="margin-top: 20px; text-align: center;">
                                    <p>--- 또는 소셜 계정으로 로그인 ---</p>

                                    <a th:href="@{/oauth2/authorization/payco}"
                                       class="site-btn"
                                       style="background: #ff0000; color: #000; width: 100%;">
                                        Payco로 로그인
                                    </a>
                                    <a th:href="@{/oauth2/authorization/google}"
                                       class="site-btn"
                                       style="background: #ffffff; color: #000; width: 100%;">
                                        Google로 로그인
                                    </a>
                                </div>

                                <div class="col-lg-12" style="margin-top: 15px; text-align: center;">
                                    <p style="color: #6f6f6f; font-size: 14px;">
                                        아직 계정이 없으신가요?
                                        <a th:href="@{/signup}" style="color: #7fad39; font-weight: 600; text-decoration: none;">회원가입</a>
                                    </p>
                                </div>
                            </div>
                        </form>

                        <!-- ================= 비회원 주문 조회 영역 ================= -->
                        <hr style="margin: 30px 0;">

                        <h5 style="margin-bottom: 10px; font-weight: 700; text-align: center;">
                            비회원 주문 조회
                        </h5>
                        <p style="text-align: center; color: #6f6f6f; margin-bottom: 20px; font-size: 14px;">
                            주문 시 받은 주문번호와 비회원 주문 비밀번호로 주문 내역을 조회하실 수 있습니다.
                        </p>

                        <form th:action="@{/orders/non-member/detail}" method="post">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="checkout__input">
                                        <p>주문번호<span>*</span></p>
                                        <input type="text"
                                               id="nonMemberOrderNumber"
                                               name="orderNumber"
                                               placeholder="주문번호를 입력하세요"
                                               required>
                                    </div>
                                </div>

                                <div class="col-lg-12">
                                    <div class="checkout__input">
                                        <p>비회원 주문 비밀번호<span>*</span></p>
                                        <input type="password"
                                               id="nonMemberPassword"
                                               name="password"
                                               placeholder="주문 조회용 비밀번호를 입력하세요"
                                               required>
                                    </div>
                                </div>

                                <div class="col-lg-12" style="margin-top: 20px; text-align: center;">
                                    <button type="submit"
                                            class="site-btn"
                                            style="width: 100%; padding: 12px; font-size: 15px; font-weight: 600; background: #6c757d;">
                                        비회원 주문 내역 조회
                                    </button>
                                </div>
                            </div>
                        </form>



                    </div>
                </div>
            </div>
        </div>

    </section>
</div>
</body>
</html>