<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default}">
<head>
    <meta charset="UTF-8">
    <title>리뷰 작성 가능 상품 | 북스캠프</title>
</head>
<body>

<section layout:fragment="hero" class="hero" style="display:none;"></section>

<div layout:fragment="content">
    <section class="checkout spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">

                    <div style="background:#fff; padding:40px; border:1px solid #ebebeb; border-radius:4px;">

                        <!-- 헤더 -->
                        <div style="margin-bottom:30px; border-bottom:2px solid #ebebeb; padding-bottom:20px;">
                            <h4 style="font-weight:700;">
                                <i class="fa fa-pencil-alt" style="margin-right:10px; color:#7fad39;"></i>
                                리뷰 작성 가능한 상품
                            </h4>
                            <p style="color:#6f6f6f;">구매 완료된 상품 중 리뷰를 작성할 수 있는 목록입니다.</p>
                        </div>

                        <!-- 리스트 -->
                        <div th:if="${#lists.isEmpty(items)}" style="text-align:center; padding:40px 0; color:#6f6f6f;">
                            작성 가능한 리뷰가 없습니다.
                        </div>

                        <div th:each="item : ${items}" style="border-bottom:1px solid #efefef; padding:20px 0; display:flex; gap:20px;">
                            <!-- 썸네일 -->
                            <div style="width:90px; height:120px; background:#f8f8f8; border-radius:4px; overflow:hidden;">
                                <img th:src="${item.thumbnailUrl}" style="width:100%; height:100%; object-fit:cover;">
                            </div>

                            <!-- 정보 -->
                            <div style="flex:1;">
                                <h5 style="margin:0; font-weight:600;" th:text="${item.bookTitle}"></h5>
                                <p style="font-size:13px; color:#999; margin-top:5px;">
                                    주문번호: <span th:text="${item.orderItemId}"></span>
                                </p>
                            </div>

                            <!-- 버튼 -->
                            <div style="display:flex; align-items:center;">
                                <a th:href="@{'/mypage/reviews/new/' + ${item.orderItemId}}"
                                   class="site-btn"
                                   style="padding:10px 18px;">
                                    리뷰 작성
                                </a>
                            </div>
                        </div>

                    </div>

                </div>
            </div>
        </div>
    </section>
</div>

</body>
</html>
