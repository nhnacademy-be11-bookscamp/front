<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default}">
<head>
    <title>알라딘 도서 등록</title>

    <th:block layout:fragment="extra-css">
        <link rel="stylesheet" th:href="@{/css/book.css}">
        <style>
            .register-form {
                display: grid;
                grid-template-columns: 1fr 2fr;
                gap: 10px 20px;
                max-width: 700px;
                background: #fff;
                padding: 30px;
                border-radius: 12px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            }
            label {
                text-align: right;
                padding-top: 6px;
                font-weight: 600;
                color: #333;
            }
            input, textarea, select {
                padding: 8px;
                border: 1px solid #ccc;
                border-radius: 6px;
                font-family: inherit;
            }
            button {
                grid-column: span 2;
                padding: 10px;
                border: none;
                border-radius: 6px;
                background: #4A90E2;
                color: white;
                cursor: pointer;
                font-size: 1rem;
                font-weight: 600;
                transition: background 0.2s;
            }
            button:hover {
                background: #357ABD;
            }
            h1 { margin-bottom: 20px;
                color: #333;
                font-size: 1.5rem;
                text-align: center;
            }
        </style>
    </th:block>
</head>

<body>
<div layout:fragment="sidebar">
    <th:block th:replace="~{fragment/admin-sidebar :: sidebar}"></th:block>
</div>

<div layout:fragment="content">
    <h1>알라딘 도서 등록</h1>

    <!-- 이제는 form submit으로 전송 (@ModelAttribute 매핑) -->
    <form th:action="@{/admin/aladin/books}" method="post" class="register-form">

        <label>제목</label>
        <input type="text" name="title" th:value="${aladinBook.title}" required>

        <label>기여자</label>
        <input type="text" name="contributors" th:value="${aladinBook.author}" required>

        <label>출판사</label>
        <input type="text" name="publisher" th:value="${aladinBook.publisher}" required>

        <label>출판일</label>
        <input type="text" name="publishDate" th:value="${aladinBook.publishDate}">

        <label>ISBN</label>
        <input type="text" name="isbn" th:value="${aladinBook.isbn13}" readonly>

        <label>정가</label>
        <input type="number" name="regularPrice" th:value="${aladinBook.regularPrice}">

        <label>판매가</label>
        <input type="number" name="salePrice" th:value="${aladinBook.salePrice}">

        <label>목차</label>
        <textarea name="content" rows="3" th:text="${aladinBook.content}"></textarea>

        <label>설명</label>
        <textarea name="explanation" rows="3" th:text="${aladinBook.explanation}"></textarea>

        <label>이미지 URL</label>
        <div>
            <img th:src="${aladinBook.cover}" alt="도서 표지" style="width:150px; border-radius:8px;">
            <input type="hidden" name="imgUrls" th:value="${aladinBook.cover}">
        </div>

        <label>재고</label>
        <input type="number" name="stock" placeholder="예: 50">

        <label>포장 가능 여부</label>
        <input type="checkbox" name="packable" value="true">

        <label>카테고리</label>
        <select name="categoryIds" multiple>
            <option th:each="c : ${categories}" th:value="${c.id}" th:text="${c.name}"></option>
        </select>

        <label>태그</label>
        <input type="text" name="tagIds" placeholder="1,2,3 (쉼표 구분)">

        <button type="submit">등록</button>
    </form>
</div>
</body>
</html>
