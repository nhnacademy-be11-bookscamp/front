<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default}">
<head>
    <meta charset="UTF-8"/>
    <title>Ï£ºÏÜå ÏàòÏ†ï | Î∂ÅÏä§Ï∫†ÌîÑ</title>
</head>
<body>

<section layout:fragment="hero" class="hero" style="display:none;"></section>

<div layout:fragment="content">
    <section class="checkout spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 offset-lg-2">

                    <div style="background:#ffffff; padding: 32px; border:1px solid #ebebeb; border-radius:4px;">

                        <div style="display:flex; align-items:center; gap:8px; margin-bottom:24px; border-bottom:2px solid #ebebeb; padding-bottom:16px;">
                            <i class="fa fa-map-marker" style="color:#7fad39;"></i>
                            <h5 style="margin:0; font-weight:700; color:#333;">Ï£ºÏÜå ÏàòÏ†ï</h5>
                        </div>

                        <!-- ÏàòÏ†ï Ìèº -->
                        <form th:action="@{|/mypage/${username}/address/${id}/edit|}"
                              method="post" th:object="${form}">
                            <input type="hidden" name="_method" value="put"/>

                            <!-- Î≥ÑÏπ≠ -->
                            <div style="margin-bottom:18px;">
                                <label style="font-weight:700; color:#333; margin-bottom:6px; display:block;">Î≥ÑÏπ≠</label>
                                <input type="text" th:field="*{label}"
                                       style="width:100%; padding:12px; border:1px solid #d1d5db; border-radius:6px;"
                                       required/>
                            </div>

                            <!-- Ïö∞Ìé∏Î≤àÌò∏ -->
                            <div style="margin-bottom:18px;">
                                <label style="font-weight:700; color:#333; margin-bottom:6px; display:block;">Ïö∞Ìé∏Î≤àÌò∏</label>
                                <div style="display:flex; gap:10px;">
                                    <input type="text" th:field="*{zipCode}" id="zipCode" readonly required
                                           style="flex:1; padding:12px; border:1px solid #d1d5db; border-radius:6px; background:#f8f8f8;"/>
                                    <button type="button" class="site-btn"
                                            onclick="execDaumPostcode()"
                                            style="padding:10px 14px;">
                                        Ï£ºÏÜå Ï∞æÍ∏∞
                                    </button>
                                </div>
                            </div>

                            <!-- ÎèÑÎ°úÎ™Ö Ï£ºÏÜå -->
                            <div style="margin-bottom:18px;">
                                <label style="font-weight:700; color:#333; margin-bottom:6px; display:block;">ÎèÑÎ°úÎ™Ö
                                    Ï£ºÏÜå</label>
                                <input type="text" th:field="*{roadNameAddress}" id="roadNameAddress" readonly required
                                       style="width:100%; padding:12px; border:1px solid #d1d5db; border-radius:6px; background:#f8f8f8;"/>
                            </div>

                            <!-- ÏÉÅÏÑ∏ Ï£ºÏÜå -->
                            <div style="margin-bottom:18px;">
                                <label style="font-weight:700; color:#333; margin-bottom:6px; display:block;">ÏÉÅÏÑ∏
                                    Ï£ºÏÜå</label>
                                <input type="text" th:field="*{detailAddress}" id="detailAddress" required
                                       style="width:100%; padding:12px; border:1px solid #d1d5db; border-radius:6px;"/>
                            </div>

                            <!-- Í∏∞Î≥∏ Ï£ºÏÜå -->
                            <div style="margin-bottom:24px;">
                                <label style="font-weight:700; color:#333; margin-bottom:6px; display:block;">Í∏∞Î≥∏
                                    Ï£ºÏÜå</label>
                                <label style="display:flex; align-items:center; gap:8px;">
                                    <input type="checkbox" th:field="*{isDefault}"/>
                                    <span style="color:#333;">Ïù¥ Ï£ºÏÜåÎ•º Í∏∞Î≥∏ Î∞∞ÏÜ°ÏßÄÎ°ú ÏÑ§Ï†ï</span>
                                </label>
                            </div>

                            <!-- üü© Î≤ÑÌäºÎì§ (Ï†ÄÏû• / Î™©Î°ù / ÏÇ≠Ï†ú) Ìïú Ï§Ñ -->
                            <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center;">

                                <!-- Ï†ÄÏû• -->
                                <button type="submit" class="site-btn"
                                        style="padding:10px 20px;">
                                    Ï†ÄÏû•
                                </button>

                                <!-- Î™©Î°ù -->
                                <a th:href="@{|/mypage/${username}/address|}"
                                   class="site-btn"
                                   style="background:#6f6f6f; padding:10px 20px;">
                                    Î™©Î°ùÏúºÎ°ú
                                </a>

                                <!-- ÏÇ≠Ï†ú (Îã§Î•∏ formÏù¥ÏßÄÎßå Í∞ôÏùÄ Ï§ÑÏóê Î≥¥Ïù¥ÎèÑÎ°ù display:inline-block) -->
                        </form>

                        <form th:action="@{|/mypage/${username}/address/${id}/delete|}"
                              method="post"
                              onsubmit="return confirm('Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†Ïñ¥Ïöî?');"
                              style="display:inline-block; margin-left:10px;">
                            <input type="hidden" name="_method" value="delete"/>
                            <button type="submit"
                                    class="site-btn"
                                    style="background:#dc3545; padding:10px 20px;">
                                ÏÇ≠Ï†ú
                            </button>
                        </form>

                    </div>

                </div>
            </div>
        </div>
    </section>
</div>

<!-- Îã§Ïùå Ï£ºÏÜå Ï∞æÍ∏∞ -->
<th:block layout:fragment="extra-js">
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script>
        function execDaumPostcode() {
            new daum.Postcode({
                oncomplete: function (data) {
                    document.getElementById('roadNameAddress').value = data.roadAddress || data.address;
                    document.getElementById('zipCode').value = data.zonecode;
                    document.getElementById('detailAddress').focus();
                }
            }).open();
        }
    </script>
</th:block>

</body>
</html>
